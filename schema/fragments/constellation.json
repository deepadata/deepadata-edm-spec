{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://deepadata.com/schema/fragments/constellation.json",
  "title": "DeepaData EDM v0.3 — Constellation Fragment",
  "description": "Emotional interpretation layer linking primary emotion, subtones, relational context, and meaning inferences. Fragment is non-normative; canonical definition is in schema/edm.v0.3.schema.json.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "emotion_primary": {
      "type": ["string", "null"],
      "enum": [
        "joy",
        "sadness",
        "fear",
        "anger",
        "surprise",
        "disgust",
        "trust",
        "anticipation",
        "tenderness",
        "awe",
        "pride",
        "shame",
        "guilt",
        "relief",
        "gratitude",
        "hope",
        "love"
      ],
      "description": "Dominant emotion category."
    },
    "emotion_subtone": {
      "type": "array",
      "description": "Up to five tonal qualifiers.",
      "items": {
        "type": "string",
        "enum": [
          "bittersweet",
          "nostalgia",
          "anxiety",
          "calm",
          "envy",
          "compassion",
          "admiration",
          "frustration",
          "excitement",
          "melancholy",
          "serenity",
          "curiosity",
          "determination",
          "gratitude",
          "hope",
          "fear",
          "warmth",
          "regret",
          "relief"
        ]
      },
      "uniqueItems": true,
      "maxItems": 5
    },
    "higher_order_emotion": {
      "type": ["string", "null"],
      "enum": ["reverence", "transcendence", "elevation", "schadenfreude", "awe"],
      "description": "Integrated affective cluster (if present)."
    },
    "meta_emotional_state": {
      "type": ["string", "null"],
      "enum": ["acceptance", "resistance", "confusion", "integration", "growth"],
      "description": "Reflective stance/meta-awareness."
    },
    "interpersonal_affect": {
      "type": ["string", "null"],
      "enum": ["warmth", "distance", "conflict", "care", "coalition", "mentorship"],
      "description": "Social-affective tone."
    },
    "active_motivational_state": {
      "type": ["string", "null"],
      "enum": [
        "repairing_relationship",
        "preserving_legacy",
        "exploration",
        "mastery",
        "belonging",
        "meaning",
        "safety",
        "autonomy"
      ],
      "description": "Currently active goal family."
    },
    "narrative_arc": {
      "type": ["string", "null"],
      "enum": ["setup", "rising", "climax", "falling", "resolution", "reflection", "transformation"],
      "description": "Story position of the memory."
    },
    "relational_dynamics": {
      "type": ["string", "null"],
      "enum": [
        "self",
        "parent-child",
        "siblings",
        "romantic_partnership",
        "friendship",
        "team",
        "community",
        "mentor-mentee"
      ],
      "description": "Primary relationship context."
    },
    "temporal_context": {
      "type": ["string", "null"],
      "enum": ["childhood", "adolescence", "early_adulthood", "midlife", "later_life", "unspecified"],
      "description": "Life-stage framing."
    },
    "memory_type": {
      "type": ["string", "null"],
      "enum": ["milestone", "routine", "anomaly", "legacy_artifact", "reflection", "decision"],
      "description": "Event category."
    },
    "archetype_energy": {
      "type": ["string", "null"],
      "enum": [
        "the_caregiver",
        "the_lover",
        "the_hero",
        "the_sage",
        "the_creator",
        "the_everyperson",
        "the_innocent",
        "the_outlaw",
        "the_magician",
        "the_jester",
        "the_ruler",
        "the_explorer"
      ],
      "description": "Jungian-style narrative energy (if applicable)."
    },
    "symbolic_anchor": {
      "type": ["string", "null"],
      "description": "Concrete object/place/ritual referenced."
    },
    "relational_perspective": {
      "type": ["string", "null"],
      "enum": ["self", "family", "work", "community", "world"],
      "description": "Perspective from which meaning is made."
    },
    "temporal_rhythm": {
      "type": ["string", "null"],
      "enum": ["recurring", "rising", "steady", "fading"],
      "description": "Pattern of recurrence or change."
    },
    "identity_thread": {
      "type": ["string", "null"],
      "description": "Short sentence threading identity across memories."
    },
    "meaning_inference": {
      "type": ["string", "null"],
      "description": "Brief insight/lesson drawn from the memory."
    },
    "transcendent_moment": {
      "type": "boolean",
      "description": "True if the moment is experienced as transcendent."
    }
  },
  "$comment": "© 2025 DeepaData Pty Ltd — All Rights Reserved. Closed provenance pre-release. Fragment is informational; canonical contract lives in schema/edm.v0.3.schema.json."
}
